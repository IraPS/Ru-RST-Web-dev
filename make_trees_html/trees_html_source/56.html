<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>rstWeb - Structure editor</title>
	<link rel="stylesheet" href="css/rst.css" type="text/css" charset="utf-8"/>
    <link rel="stylesheet" href="css/font-awesome-4.2.0/css/font-awesome.min.css"/>
    <script src="./script/jquery-1.11.3.min.js"></script>
    <script src="./script/jquery-ui.min.js"></script>
    <script src="./script/nav.js"></script>

</head>

<body id="home">

<div class="banner" id="banner">
<table>
    <tr>
<td rowspan="2"><a href="open"><img src="img/rstweb_logo.png" alt="rstWeb" class="logo"/></a></td>
                <td>
    </td>
            <td class="logged_in">
                Logged in as: local 
            </td>
</tr>
    <tr>
<td><h1>rstWeb - Structure editor</h1></td>

</tr></table>

</div><div class="edit_bar" id="edit_bar">
    <form id="edit_form" name="edit_form" action="structure" method="post" class="nav_form" enctype="multipart/form-data">
        <input id="current_doc" name="current_doc" type="hidden" value="first_annotation_lentaru010_EDUs_splitted.rs3_sonya.rs3"/>
        <input id="current_project" name="current_project" type="hidden" value="Ru-RST_corpus"/>
        <input id="serve_mode" name="serve_mode" type="hidden" value="local"/>
        <input id="action" name="action" type="hidden" value=""/>
        <input id="current_guidelines" name="current_guidelines" type="hidden" value=""/>
        <input id="logging" name="logging" type="hidden" value=""/>
        <input id="reset" name="reset" type="hidden" value=""/>
        <input id="dirty" name="dirty" type="hidden" value=""/>
        <input id="timestamp" name="timestamp" type="hidden" value=""/>
    </form>
    <form id="quickexp_form" name="quickexp_form" action="quick_export" method="post" class="nav_form" enctype="multipart/form-data">
        <input id="quickexp_doc" name="quickexp_doc" type="hidden" value="first_annotation_lentaru010_EDUs_splitted.rs3_sonya.rs3"/>
        <input id="quickexp_project" name="quickexp_project" type="hidden" value="Ru-RST_corpus"/>
    </form>

            <button id="nav_open" class="nav_button" onclick="open_open();" name="open" ><i class="fa fa-folder-open" title="Open"></i> open</button>
            <button id="nav_save" class="nav_button" onclick="save();" **save_disabled**><i class="fa fa-save" title="Save"></i> save</button>
            <button id="nav_reset" class="nav_button" onclick="do_reset();" **reset_disabled**><i class="fa fa-refresh on fa-trash" title="Reset"></i> reset</button>
            <button id="nav_quickexp" class="nav_button" onclick="do_quickexp();" ><i class="fa fa-code" title="Download XML"></i> xml</button>
            <button id="nav_screenshot" class="nav_button" onclick="do_screenshot();" ><i class="fa fa-image" title="Image"></i> image</button>
    <span class="divider">|</span>
            <button class="nav_button" onclick="undo();" **undo_disabled**><i class="fa fa-undo" title="Undo"></i> undo</button>
            <button class="nav_button" onclick="redo();" **redo_disabled**><i class="fa fa-undo fa-flip-horizontal" title="Redo"></i> redo</button>
    <span class="divider">|</span>
            <button id="nav_edit" class="nav_button nav_button_inset" onclick="open_structure();" disabled="disabled"><div class="struct_logo_frame"><i class="fa fa-refresh" title="Edit structure"></i></div> structure</button>
            <button id="nav_segment" class="nav_button" onclick="open_segment();" ><i class="fa fa-list-ol" title="Segmentation"></i> segment</button>
    <span class="divider">|</span>
            <button id="nav_admin" class="nav_button" onclick="open_admin();" ><i class="fa fa-shield" title="Administration"></i> admin</button>
    <span class="divider">|</span>
            <button id="guidelines" class="nav_button" onclick="show_guidelines();" disabled="disabled"><i class="fa fa-book" title="guidelines"></i> guidelines</button>
            <button id="nav_help" class="nav_button" onclick="show_help();"><i class="fa fa-question-circle" title="Help"></i> help</button>
            <button id="nav_about" class="nav_button" onclick="show_about();"><i class="fa fa-info-circle" title="About"></i> about</button>
</div>
<div id="help_edit" class="help">
    <h2>Edit structure - Help</h2><button class="help_mini" onclick='hide_help();'>X</button>
    <p>In edit mode, each elementary discourse unit (EDU) has its text under a line with a number giving its position in the text. Similarly, groups of units have a range of numbers. You can connect nodes, unlink them, and group them together under spans and multinuclear nodes. You can undo and redo actions at any point using the appropriate buttons. Don't forget to save your work!</p>
    <p>If a guideline link has been set for the current project, the guidelines button will allow you to access guidelines for your project.</p>
    <h3>Connections</h3>
    <ul>
        <li>To connect nodes, drag from the numbers under one unit to the numbers under a target unit</li>
        <li>To change the relation between two units, use the drop down list on the connection between them</li>
        <li>To unlink a node from the graph, click its <button class="dummy_minibtn">X</button> button - all of the nodes connected above it will be unlinked</li>
    </ul>

    <h3>Spans</h3>
    <ul>
        <li>Use the <button class="dummy_minibtn">T</button> button to add a span above a node. The span will group together all of the nodes connected to that node</li>
    </ul>

    <h3>Multinuclear relations</h3>
    <ul>
        <li>Use the <button class="dummy_minibtn">Λ</button> button to create a multinuclear node (multinuc) above a node. The multinuc can have multiple child nodes with the same relation (e.g. a set of items in contrast to each other)</li>
        <li>To change the relation of a multinuc to its children, change the relation box of any of its children</li>
        <li>When connecting a new node to a multinuc node, it will be added as a multinuc child by default. You can change the relation to a satellite relation by choosing "change to satellite" in the relation box</li>
    </ul>
    <button class="close_button" onclick='hide_help();'>Close</button>
</div><div id="help_seg" class="about">
    <h2>About rstWeb</h2><button class="help_mini" onclick='hide_about();'>X</button>
    <table class="about_table">

        <tr><td><img src="img/rstweb_logo.png" height="75px" alt="rstWeb"/></td><td><h1>rstWeb</h1>
        Version 2.0.0</td></tr>
        <tr><td colspan="2" class="website">Website: <a href="http://corpling.uis.georgetown.edu/rstweb/info/" target="_new">http://corpling.uis.georgetown.edu/rstweb/info/</a></td></tr>
        <tr><td colspan="2" class="copyright">&copy; Amir Zeldes 2015-2017</td></tr>

    </table>

</div>
<div class="canvas">	<p>Document: <b>first_annotation_lentaru010_EDUs_splitted.rs3_sonya.rs3</b> (project: <i>Ru-RST_corpus</i>)</p><div id="inner_canvas"><script src="./script/structure.js"></script><div id="lg24" class="group" style="left: 1300; width: 196; top:200px; z-index:1"><div id="wsk24" class="whisker" style="width:196;"></div></div><div id="g24" class="num_cont" style="position: absolute; left:1364px; top:204px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_24"  title="unlink this node" class="minibtn" onclick="act('up:24,0');">X</button></td><td rowspan="2"><span class="num_id">14-15</span></td><td><button id="aspan_24" title="add span above" class="minibtn" onclick="act('sp:24');">T</button></td></tr><tr><td><button id="amulti_24" title="add multinuc above" class="minibtn" onclick="act('mn:24');">Λ</button></td></tr></table></div><br/><div id="lg25" class="group" style="left: 1300; width: 196; top:140px; z-index:1"><div id="wsk25" class="whisker" style="width:196;"></div></div><div id="g25" class="num_cont" style="position: absolute; left:1364px; top:144px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_25"  title="unlink this node" class="minibtn" onclick="act('up:25,0');">X</button></td><td rowspan="2"><span class="num_id">14-15</span></td><td><button id="aspan_25" title="add span above" class="minibtn" onclick="act('sp:25');">T</button></td></tr><tr><td><button id="amulti_25" title="add multinuc above" class="minibtn" onclick="act('mn:25');">Λ</button></td></tr></table></div><br/><div id="lg26" class="group" style="left: 900; width: 196; top:140px; z-index:1"><div id="wsk26" class="whisker" style="width:196;"></div></div><div id="g26" class="num_cont" style="position: absolute; left:912px; top:144px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_26"  title="unlink this node" class="minibtn" onclick="act('up:26,0');">X</button></td><td rowspan="2"><span class="num_id">10-11</span></td><td><button id="aspan_26" title="add span above" class="minibtn" onclick="act('sp:26');">T</button></td></tr><tr><td><button id="amulti_26" title="add multinuc above" class="minibtn" onclick="act('mn:26');">Λ</button></td></tr></table></div><br/><div id="lg27" class="group" style="left: 900; width: 596; top:80px; z-index:1"><div id="wsk27" class="whisker" style="width:596;"></div></div><div id="g27" class="num_cont" style="position: absolute; left:1139px; top:84px; z-index:195"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_27"  title="unlink this node" class="minibtn" onclick="act('up:27,0');">X</button></td><td rowspan="2"><span class="num_id">10-15</span></td><td><button id="aspan_27" title="add span above" class="minibtn" onclick="act('sp:27');">T</button></td></tr><tr><td><button id="amulti_27" title="add multinuc above" class="minibtn" onclick="act('mn:27');">Λ</button></td></tr></table></div><br/><div id="edu20" class="edu" title="20" style="left:1900; top:320; width: 96px"><div id="wsk20" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_20" title="unlink this node" class="minibtn" onclick="act('up:20,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;20&nbsp;</span></td><td><button id="aspan_20" title="add span above" class="minibtn" onclick="act('sp:20');">T</button></td></tr><tr><td><button id="amulti_20" title="add multinuc above" class="minibtn" onclick="act('mn:20');">Λ</button></td></tr></table></div>Последний снимок кометы был сделан «Очень большим телескопом» (VLT) 5 октября 2013 года.</div><div id="edu21" class="edu" title="21" style="left:2000; top:320; width: 96px"><div id="wsk21" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_21" title="unlink this node" class="minibtn" onclick="act('up:21,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;21&nbsp;</span></td><td><button id="aspan_21" title="add span above" class="minibtn" onclick="act('sp:21');">T</button></td></tr><tr><td><button id="amulti_21" title="add multinuc above" class="minibtn" onclick="act('mn:21');">Λ</button></td></tr></table></div>На тот момент она находилась на расстоянии около 500 миллионов километров от Солнца.</div><div id="lg22" class="group" style="left: 0; width: 196; top:140px; z-index:1"><div id="wsk22" class="whisker" style="width:196;"></div></div><div id="g22" class="num_cont" style="position: absolute; left:12px; top:144px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_22"  title="unlink this node" class="minibtn" onclick="act('up:22,0');">X</button></td><td rowspan="2"><span class="num_id">1-2</span></td><td><button id="aspan_22" title="add span above" class="minibtn" onclick="act('sp:22');">T</button></td></tr><tr><td><button id="amulti_22" title="add multinuc above" class="minibtn" onclick="act('mn:22');">Λ</button></td></tr></table></div><br/><div id="lg23" class="group" style="left: 1100; width: 196; top:140px; z-index:1"><div id="wsk23" class="whisker" style="width:196;"></div></div><div id="g23" class="num_cont" style="position: absolute; left:1112px; top:144px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_23"  title="unlink this node" class="minibtn" onclick="act('up:23,0');">X</button></td><td rowspan="2"><span class="num_id">12-13</span></td><td><button id="aspan_23" title="add span above" class="minibtn" onclick="act('sp:23');">T</button></td></tr><tr><td><button id="amulti_23" title="add multinuc above" class="minibtn" onclick="act('mn:23');">Λ</button></td></tr></table></div><br/><div id="lg28" class="group" style="left: 1700; width: 196; top:380px; z-index:1"><div id="wsk28" class="whisker" style="width:196;"></div></div><div id="g28" class="num_cont" style="position: absolute; left:1712px; top:384px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_28"  title="unlink this node" class="minibtn" onclick="act('up:28,0');">X</button></td><td rowspan="2"><span class="num_id">18-19</span></td><td><button id="aspan_28" title="add span above" class="minibtn" onclick="act('sp:28');">T</button></td></tr><tr><td><button id="amulti_28" title="add multinuc above" class="minibtn" onclick="act('mn:28');">Λ</button></td></tr></table></div><br/><div id="lg29" class="group" style="left: 1600; width: 296; top:320px; z-index:1"><div id="wsk29" class="whisker" style="width:296;"></div></div><div id="g29" class="num_cont" style="position: absolute; left:1663px; top:324px; z-index:198"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_29"  title="unlink this node" class="minibtn" onclick="act('up:29,0');">X</button></td><td rowspan="2"><span class="num_id">17-19</span></td><td><button id="aspan_29" title="add span above" class="minibtn" onclick="act('sp:29');">T</button></td></tr><tr><td><button id="amulti_29" title="add multinuc above" class="minibtn" onclick="act('mn:29');">Λ</button></td></tr></table></div><br/><div id="edu1" class="edu" title="1" style="left:0; top:200; width: 96px"><div id="wsk1" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_1" title="unlink this node" class="minibtn" onclick="act('up:1,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;1&nbsp;</span></td><td><button id="aspan_1" title="add span above" class="minibtn" onclick="act('sp:1');">T</button></td></tr><tr><td><button id="amulti_1" title="add multinuc above" class="minibtn" onclick="act('mn:1');">Λ</button></td></tr></table></div>##### Межпланетный зонд «Розетта» Европейского космического агентства (ESA) вечером 20 января 2014 года выйдет из режима гибернации после 2,5 лет «спячки»,</div><div id="edu3" class="edu" title="3" style="left:200; top:200; width: 96px"><div id="wsk3" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_3" title="unlink this node" class="minibtn" onclick="act('up:3,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;3&nbsp;</span></td><td><button id="aspan_3" title="add span above" class="minibtn" onclick="act('sp:3');">T</button></td></tr><tr><td><button id="amulti_3" title="add multinuc above" class="minibtn" onclick="act('mn:3');">Λ</button></td></tr></table></div>После «пробуждения» зонд начнет подготовку к исследованию кометы 67P/CG Чурюмова-Герасименко,</div><div id="edu2" class="edu" title="2" style="left:100; top:200; width: 96px"><div id="wsk2" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_2" title="unlink this node" class="minibtn" onclick="act('up:2,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;2&nbsp;</span></td><td><button id="aspan_2" title="add span above" class="minibtn" onclick="act('sp:2');">T</button></td></tr><tr><td><button id="amulti_2" title="add multinuc above" class="minibtn" onclick="act('mn:2');">Λ</button></td></tr></table></div>говорится в сообщении Европейской южной обсерватории (ESO).</div><div id="edu5" class="edu" title="5" style="left:400; top:200; width: 96px"><div id="wsk5" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_5" title="unlink this node" class="minibtn" onclick="act('up:5,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;5&nbsp;</span></td><td><button id="aspan_5" title="add span above" class="minibtn" onclick="act('sp:5');">T</button></td></tr><tr><td><button id="amulti_5" title="add multinuc above" class="minibtn" onclick="act('mn:5');">Λ</button></td></tr></table></div>##### Как сообщает "Английское название"</div><div id="edu4" class="edu" title="4" style="left:300; top:200; width: 96px"><div id="wsk4" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_4" title="unlink this node" class="minibtn" onclick="act('up:4,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;4&nbsp;</span></td><td><button id="aspan_4" title="add span above" class="minibtn" onclick="act('sp:4');">T</button></td></tr><tr><td><button id="amulti_4" title="add multinuc above" class="minibtn" onclick="act('mn:4');">Λ</button></td></tr></table></div>запланированному на август текущего года.</div><div id="edu7" class="edu" title="7" style="left:600; top:140; width: 96px"><div id="wsk7" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_7" title="unlink this node" class="minibtn" onclick="act('up:7,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;7&nbsp;</span></td><td><button id="aspan_7" title="add span above" class="minibtn" onclick="act('sp:7');">T</button></td></tr><tr><td><button id="amulti_7" title="add multinuc above" class="minibtn" onclick="act('mn:7');">Λ</button></td></tr></table></div>После пробуждения зонд должен будет выйти на связь с Землей.</div><div id="edu6" class="edu" title="6" style="left:500; top:200; width: 96px"><div id="wsk6" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_6" title="unlink this node" class="minibtn" onclick="act('up:6,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;6&nbsp;</span></td><td><button id="aspan_6" title="add span above" class="minibtn" onclick="act('sp:6');">T</button></td></tr><tr><td><button id="amulti_6" title="add multinuc above" class="minibtn" onclick="act('mn:6');">Λ</button></td></tr></table></div>сигнал на «пробуждение» «Розетты» планировалось отправить в 10 утра по времени Гринвича (14:00 по времени Москвы).</div><div id="edu9" class="edu" title="9" style="left:800; top:140; width: 96px"><div id="wsk9" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_9" title="unlink this node" class="minibtn" onclick="act('up:9,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;9&nbsp;</span></td><td><button id="aspan_9" title="add span above" class="minibtn" onclick="act('sp:9');">T</button></td></tr><tr><td><button id="amulti_9" title="add multinuc above" class="minibtn" onclick="act('mn:9');">Λ</button></td></tr></table></div>Прямая трансляция «пробуждения» зонда ведется на сайте Европейского космического агентства.</div><div id="edu8" class="edu" title="8" style="left:700; top:140; width: 96px"><div id="wsk8" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_8" title="unlink this node" class="minibtn" onclick="act('up:8,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;8&nbsp;</span></td><td><button id="aspan_8" title="add span above" class="minibtn" onclick="act('sp:8');">T</button></td></tr><tr><td><button id="amulti_8" title="add multinuc above" class="minibtn" onclick="act('mn:8');">Λ</button></td></tr></table></div>Как ожидается, Сигнал с «Розетты» придет на Землю не позднее 18:30 по времени Гринвича (22:30 по московскому времени).</div><div id="lg38" class="group" style="left: 1500; width: 596; top:80px; z-index:1"><div id="wsk38" class="whisker" style="width:596;"></div></div><div id="g38" class="num_cont" style="position: absolute; left:1788px; top:84px; z-index:195"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_38"  title="unlink this node" class="minibtn" onclick="act('up:38,0');">X</button></td><td rowspan="2"><span class="num_id">16-21</span></td><td><button id="aspan_38" title="add span above" class="minibtn" onclick="act('sp:38');">T</button></td></tr><tr><td><button id="amulti_38" title="add multinuc above" class="minibtn" onclick="act('mn:38');">Λ</button></td></tr></table></div><br/><div id="edu11" class="edu" title="11" style="left:1000; top:200; width: 96px"><div id="wsk11" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_11" title="unlink this node" class="minibtn" onclick="act('up:11,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;11&nbsp;</span></td><td><button id="aspan_11" title="add span above" class="minibtn" onclick="act('sp:11');">T</button></td></tr><tr><td><button id="amulti_11" title="add multinuc above" class="minibtn" onclick="act('mn:11');">Λ</button></td></tr></table></div>На тот момент он находился на расстоянии 549 миллионов километров от Солнца.</div><div id="edu10" class="edu" title="10" style="left:900; top:200; width: 96px"><div id="wsk10" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_10" title="unlink this node" class="minibtn" onclick="act('up:10,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;10&nbsp;</span></td><td><button id="aspan_10" title="add span above" class="minibtn" onclick="act('sp:10');">T</button></td></tr><tr><td><button id="amulti_10" title="add multinuc above" class="minibtn" onclick="act('mn:10');">Λ</button></td></tr></table></div>##### Зонд «Розетта» был переведен в режим гибернации в июне 2011 года.</div><div id="edu13" class="edu" title="13" style="left:1200; top:200; width: 96px"><div id="wsk13" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_13" title="unlink this node" class="minibtn" onclick="act('up:13,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;13&nbsp;</span></td><td><button id="aspan_13" title="add span above" class="minibtn" onclick="act('sp:13');">T</button></td></tr><tr><td><button id="amulti_13" title="add multinuc above" class="minibtn" onclick="act('mn:13');">Λ</button></td></tr></table></div>недостаточная для работы приборов мощность аккумуляторов.</div><div id="edu12" class="edu" title="12" style="left:1100; top:200; width: 96px"><div id="wsk12" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_12" title="unlink this node" class="minibtn" onclick="act('up:12,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;12&nbsp;</span></td><td><button id="aspan_12" title="add span above" class="minibtn" onclick="act('sp:12');">T</button></td></tr><tr><td><button id="amulti_12" title="add multinuc above" class="minibtn" onclick="act('mn:12');">Λ</button></td></tr></table></div>Поводом для перевода зонда в «спячку» стала</div><div id="edu15" class="edu" title="15" style="left:1400; top:260; width: 96px"><div id="wsk15" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_15" title="unlink this node" class="minibtn" onclick="act('up:15,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;15&nbsp;</span></td><td><button id="aspan_15" title="add span above" class="minibtn" onclick="act('sp:15');">T</button></td></tr><tr><td><button id="amulti_15" title="add multinuc above" class="minibtn" onclick="act('mn:15');">Λ</button></td></tr></table></div>однако этой планеты зонд не «увидел».</div><div id="edu14" class="edu" title="14" style="left:1300; top:260; width: 96px"><div id="wsk14" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_14" title="unlink this node" class="minibtn" onclick="act('up:14,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;14&nbsp;</span></td><td><button id="aspan_14" title="add span above" class="minibtn" onclick="act('sp:14');">T</button></td></tr><tr><td><button id="amulti_14" title="add multinuc above" class="minibtn" onclick="act('mn:14');">Λ</button></td></tr></table></div>В сентябре 2012 года «Розетта» достигла орбиты Юпитера,</div><div id="edu17" class="edu" title="17" style="left:1600; top:380; width: 96px"><div id="wsk17" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_17" title="unlink this node" class="minibtn" onclick="act('up:17,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;17&nbsp;</span></td><td><button id="aspan_17" title="add span above" class="minibtn" onclick="act('sp:17');">T</button></td></tr><tr><td><button id="amulti_17" title="add multinuc above" class="minibtn" onclick="act('mn:17');">Λ</button></td></tr></table></div>После сближения с кометой в августе 2014 года</div><div id="edu16" class="edu" title="16" style="left:1500; top:140; width: 96px"><div id="wsk16" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_16" title="unlink this node" class="minibtn" onclick="act('up:16,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;16&nbsp;</span></td><td><button id="aspan_16" title="add span above" class="minibtn" onclick="act('sp:16');">T</button></td></tr><tr><td><button id="amulti_16" title="add multinuc above" class="minibtn" onclick="act('mn:16');">Λ</button></td></tr></table></div>##### 67P/CG представляет собой короткопериодическую комету с периодом обращения вокруг Солнца 6,6 года.</div><div id="edu19" class="edu" title="19" style="left:1800; top:440; width: 96px"><div id="wsk19" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_19" title="unlink this node" class="minibtn" onclick="act('up:19,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;19&nbsp;</span></td><td><button id="aspan_19" title="add span above" class="minibtn" onclick="act('sp:19');">T</button></td></tr><tr><td><button id="amulti_19" title="add multinuc above" class="minibtn" onclick="act('mn:19');">Λ</button></td></tr></table></div>который должен будет опуститься на комету Чурюмова-Герасименко диаметром около четырех километров.</div><div id="edu18" class="edu" title="18" style="left:1700; top:440; width: 96px"><div id="wsk18" class="whisker" style="width:96px;"></div><div class="edu_num_cont"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_18" title="unlink this node" class="minibtn" onclick="act('up:18,0');">X</button></td><td rowspan="2"><span class="num_id">&nbsp;18&nbsp;</span></td><td><button id="aspan_18" title="add span above" class="minibtn" onclick="act('sp:18');">T</button></td></tr><tr><td><button id="amulti_18" title="add multinuc above" class="minibtn" onclick="act('mn:18');">Λ</button></td></tr></table></div>с борта «Розетты» стартует зонд Philae Lander,</div><div id="lg31" class="group" style="left: 0; width: 396; top:80px; z-index:1"><div id="wsk31" class="whisker" style="width:396;"></div></div><div id="g31" class="num_cont" style="position: absolute; left:112px; top:84px; z-index:197"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_31"  title="unlink this node" class="minibtn" onclick="act('up:31,0');">X</button></td><td rowspan="2"><span class="num_id">1-4</span></td><td><button id="aspan_31" title="add span above" class="minibtn" onclick="act('sp:31');">T</button></td></tr><tr><td><button id="amulti_31" title="add multinuc above" class="minibtn" onclick="act('mn:31');">Λ</button></td></tr></table></div><br/><div id="lg30" class="group" style="left: 200; width: 196; top:140px; z-index:1"><div id="wsk30" class="whisker" style="width:196;"></div></div><div id="g30" class="num_cont" style="position: absolute; left:212px; top:144px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_30"  title="unlink this node" class="minibtn" onclick="act('up:30,0');">X</button></td><td rowspan="2"><span class="num_id">3-4</span></td><td><button id="aspan_30" title="add span above" class="minibtn" onclick="act('sp:30');">T</button></td></tr><tr><td><button id="amulti_30" title="add multinuc above" class="minibtn" onclick="act('mn:30');">Λ</button></td></tr></table></div><br/><div id="lg37" class="group" style="left: 1600; width: 496; top:140px; z-index:1"><div id="wsk37" class="whisker" style="width:496;"></div></div><div id="g37" class="num_cont" style="position: absolute; left:1788px; top:144px; z-index:196"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_37"  title="unlink this node" class="minibtn" onclick="act('up:37,0');">X</button></td><td rowspan="2"><span class="num_id">17-21</span></td><td><button id="aspan_37" title="add span above" class="minibtn" onclick="act('sp:37');">T</button></td></tr><tr><td><button id="amulti_37" title="add multinuc above" class="minibtn" onclick="act('mn:37');">Λ</button></td></tr></table></div><br/><div id="lg36" class="group" style="left: 1600; width: 496; top:200px; z-index:1"><div id="wsk36" class="whisker" style="width:496;"></div></div><div id="g36" class="num_cont" style="position: absolute; left:1788px; top:204px; z-index:196"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_36"  title="unlink this node" class="minibtn" onclick="act('up:36,0');">X</button></td><td rowspan="2"><span class="num_id">17-21</span></td><td><button id="aspan_36" title="add span above" class="minibtn" onclick="act('sp:36');">T</button></td></tr><tr><td><button id="amulti_36" title="add multinuc above" class="minibtn" onclick="act('mn:36');">Λ</button></td></tr></table></div><br/><div id="lg35" class="group" style="left: 1900; width: 196; top:260px; z-index:1"><div id="wsk35" class="whisker" style="width:196;"></div></div><div id="g35" class="num_cont" style="position: absolute; left:1912px; top:264px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_35"  title="unlink this node" class="minibtn" onclick="act('up:35,0');">X</button></td><td rowspan="2"><span class="num_id">20-21</span></td><td><button id="aspan_35" title="add span above" class="minibtn" onclick="act('sp:35');">T</button></td></tr><tr><td><button id="amulti_35" title="add multinuc above" class="minibtn" onclick="act('mn:35');">Λ</button></td></tr></table></div><br/><div id="lg34" class="group" style="left: 1600; width: 296; top:260px; z-index:1"><div id="wsk34" class="whisker" style="width:296;"></div></div><div id="g34" class="num_cont" style="position: absolute; left:1663px; top:264px; z-index:198"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_34"  title="unlink this node" class="minibtn" onclick="act('up:34,0');">X</button></td><td rowspan="2"><span class="num_id">17-19</span></td><td><button id="aspan_34" title="add span above" class="minibtn" onclick="act('sp:34');">T</button></td></tr><tr><td><button id="amulti_34" title="add multinuc above" class="minibtn" onclick="act('mn:34');">Λ</button></td></tr></table></div><br/><div id="lg33" class="group" style="left: 400; width: 496; top:80px; z-index:1"><div id="wsk33" class="whisker" style="width:496;"></div></div><div id="g33" class="num_cont" style="position: absolute; left:664px; top:84px; z-index:196"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_33"  title="unlink this node" class="minibtn" onclick="act('up:33,0');">X</button></td><td rowspan="2"><span class="num_id">5-9</span></td><td><button id="aspan_33" title="add span above" class="minibtn" onclick="act('sp:33');">T</button></td></tr><tr><td><button id="amulti_33" title="add multinuc above" class="minibtn" onclick="act('mn:33');">Λ</button></td></tr></table></div><br/><div id="lg32" class="group" style="left: 400; width: 196; top:140px; z-index:1"><div id="wsk32" class="whisker" style="width:196;"></div></div><div id="g32" class="num_cont" style="position: absolute; left:511px; top:144px; z-index:199"><table class="btn_tb"><tr><td rowspan="2"><button id="unlink_32"  title="unlink this node" class="minibtn" onclick="act('up:32,0');">X</button></td><td rowspan="2"><span class="num_id">5-6</span></td><td><button id="aspan_32" title="add span above" class="minibtn" onclick="act('sp:32');">T</button></td></tr><tr><td><button id="amulti_32" title="add multinuc above" class="minibtn" onclick="act('mn:32');">Λ</button></td></tr></table></div><br/><input id="data" name="data" type="hidden" value="n24,n25,m,0,span,span;n25,n27,s,0,joint_m,multinuc;n26,n27,s,0,joint_m,multinuc;n27,n0,m,0,none,span;n20,n35,e,20,span,span;n21,n20,e,21,background_r,rst;n22,n31,s,0,joint_m,multinuc;n23,n27,s,0,joint_m,multinuc;n28,n29,s,0,sequence_m,multinuc;n29,n34,m,0,span,span;n1,n22,e,1,span,span;n3,n30,e,3,span,span;n2,n1,e,2,attribution_r,rst;n5,n6,e,5,attribution_r,rst;n4,n3,e,4,elaboration_r,rst;n7,n33,e,7,joint_m,multinuc;n6,n32,e,6,span,span;n9,n33,e,9,joint_m,multinuc;n8,n33,e,8,joint_m,multinuc;n38,n0,s,0,none,span;n11,n10,e,11,background_r,rst;n10,n26,e,10,span,span;n13,n12,e,13,cause-effect_r,rst;n12,n23,e,12,span,span;n15,n24,e,15,contrast_m,multinuc;n14,n24,e,14,contrast_m,multinuc;n17,n29,e,17,sequence_m,multinuc;n16,n37,e,16,background_r,rst;n19,n18,e,19,elaboration_r,rst;n18,n28,e,18,span,span;n31,n0,m,0,none,span;n30,n31,s,0,joint_m,multinuc;n37,n38,s,0,span,span;n36,n37,m,0,span,span;n35,n36,s,0,joint_m,multinuc;n34,n36,s,0,joint_m,multinuc;n33,n0,m,0,none,span;n32,n33,s,0,joint_m,multinuc"/><input id="def_multi_rel" type="hidden" value="comparison_m"/>
<input id="def_rst_rel" type="hidden" value="antithesis_r"/>
<input id="undo_log" type="hidden" value=""/>
<input id="redo_log" type="hidden" value=""/>
<input id="undo_state" type="hidden" value=""/>
<input id="logging" type="hidden" value=""/>
<input id="validations" type="hidden" value=""/>
<input id="use_span_buttons" type="hidden" value="True"/>
<input id="use_multinuc_buttons" type="hidden" value="True"/>
	<script src="./script/jquery.jsPlumb-1.7.5-min.js"></script>

            <script>
            function select_my_rel(options,my_rel){var multi_options = `<option value='comparison_m'>comparison</option>
<option value='contrast_m'>contrast</option>
<option value='joint_m'>joint</option>
<option value='restatement_m'>restatement</option>
<option value='same-unit_m'>same-unit</option>
<option value='sequence_m'>sequence</option>
<option value='antithesis_r'>(satellite...)</option>
`;
var rst_options = `<option value='antithesis_r'>antithesis</option>
<option value='attribution1_r'>attribution1</option>
<option value='attribution2_r'>attribution2</option>
<option value='attribution_r'>attribution</option>
<option value='background_r'>background</option>
<option value='cause-effect_r'>cause-effect</option>
<option value='concession_r'>concession</option>
<option value='conclusion_r'>conclusion</option>
<option value='condition_r'>condition</option>
<option value='elaboration_r'>elaboration</option>
<option value='evaluation_r'>evaluation</option>
<option value='evidence_r'>evidence</option>
<option value='interpretation-evaluation_r'>interpretation-evaluation</option>
<option value='interpretation_r'>interpretation</option>
<option value='motivation_r'>motivation</option>
<option value='non_volitional_cause_r'>non_volitional_cause</option>
<option value='non_volitional_effect_r'>non_volitional_effect</option>
<option value='preparation_r'>preparation</option>
<option value='purpose_r'>purpose</option>
<option value='solutionhood_r'>solutionhood</option>
<option value='volitional_cause_r'>volitional_cause</option>
<option value='volitional_effect_r'>volitional_effect</option>
`;
if (options =="multi"){options = multi_options;} else {options=rst_options;}		return options.replace("<option value='"+my_rel+"'","<option selected='selected' value='"+my_rel+"'");			}
function make_relchooser(id,option_type,rel){
        return $("<select class='rst_rel' id='sel"+id.replace("n","")+"' onchange='crel(" + id.replace("n","") + ",this.options[this.selectedIndex].value);'>" + select_my_rel(option_type,rel) + "</select>");
    }
            jsPlumb.importDefaults({
            PaintStyle : {
                lineWidth:2,
                strokeStyle: 'rgba(0,0,0,0.5)'
            },
            Endpoints : [ [ "Dot", { radius:1 } ], [ "Dot", { radius:1 } ] ],
              EndpointStyles : [{ fillStyle:"#000000" }, { fillStyle:"#000000" }],
              Anchor:"Top",
                Connector : [ "Bezier", { curviness:50 } ]
            })
             jsPlumb.ready(function() {

    jsPlumb.setContainer(document.getElementById("inner_canvas"));
    jsPlumb.setSuspendDrawing(true);jsPlumb.makeSource("g24", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g24", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g25", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g25", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g26", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g26", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g27", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g27", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu20", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu20", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu21", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu21", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g22", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g22", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g23", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g23", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g28", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g28", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g29", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g29", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu1", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu1", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu3", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu3", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu2", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu2", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu5", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu5", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu4", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu4", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu7", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu7", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu6", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu6", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu9", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu9", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu8", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu8", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g38", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g38", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu11", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu11", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu10", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu10", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu13", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu13", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu12", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu12", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu15", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu15", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu14", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu14", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu17", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu17", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu16", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu16", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu19", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu19", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("edu18", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("edu18", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g31", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g31", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g30", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g30", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g37", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g37", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g36", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g36", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g35", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g35", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g34", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g34", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g33", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g33", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeSource("g32", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.makeTarget("g32", {anchor: "Top", filter: ".num_id", allowLoopback:false});jsPlumb.connect({source:"g24",target:"g25", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"g25",target:"g27", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("25","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g26",target:"g27", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("26","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu20",target:"g35", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu21",target:"edu20", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("21","rst","background_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"g22",target:"g31", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("22","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g23",target:"g27", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("23","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g28",target:"g29", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("28","multi","sequence_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g29",target:"g34", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu1",target:"g22", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu3",target:"g30", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu2",target:"edu1", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("2","rst","attribution_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu5",target:"edu6", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("5","rst","attribution_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu4",target:"edu3", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("4","rst","elaboration_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu7",target:"g33", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("7","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu6",target:"g32", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu9",target:"g33", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("9","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu8",target:"g33", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("8","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu11",target:"edu10", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("11","rst","background_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu10",target:"g26", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu13",target:"edu12", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("13","rst","cause-effect_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu12",target:"g23", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"edu15",target:"g24", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("15","multi","contrast_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu14",target:"g24", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("14","multi","contrast_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu17",target:"g29", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("17","multi","sequence_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"edu16",target:"g37", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("16","rst","background_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu19",target:"edu18", overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser("19","rst","elaboration_r");},location:0.1,id:"customOverlay"}]]});jsPlumb.connect({source:"edu18",target:"g28", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"g30",target:"g31", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("30","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g37",target:"g38", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"g36",target:"g37", connector:"Straight", anchors: ["Top","Bottom"]});jsPlumb.connect({source:"g35",target:"g36", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("35","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g34",target:"g36", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("34","multi","joint_m");},location:0.2,id:"customOverlay"}]]});jsPlumb.connect({source:"g32",target:"g33", connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser("32","multi","joint_m");},location:0.2,id:"customOverlay"}]]});

        jsPlumb.setSuspendDrawing(false,true);


        jsPlumb.bind("connection", function(info) {
           source = info.sourceId.replace(/edu|g/,"")
           target = info.targetId.replace(/edu|g/g,"")
        });

        jsPlumb.bind("beforeDrop", function(info) {
            $(".minibtn").prop("disabled",true);

    
            var node_id = "n"+info.sourceId.replace(/edu|g|lg/,"");
            var new_parent_id = "n"+info.targetId.replace(/edu|g|lg/,"");

            nodes = parse_data();
            new_parent = nodes[new_parent_id];
            relname = nodes[node_id].relname;
            new_parent_kind = new_parent.kind;
            if (nodes[node_id].parent != "n0"){
                old_parent_kind = nodes[nodes[node_id].parent].kind;
            }
            else
            {
                old_parent_kind ="none";
            }

            if (info.sourceId != info.targetId){
                if (!(is_ancestor(new_parent_id,node_id))){
                    jsPlumb.select({source:info.sourceId}).detach();
                    if (new_parent_kind == "multinuc"){
                        relname = get_multirel(new_parent_id,node_id,nodes);
                        jsPlumb.connect({source:info.sourceId, target:info.targetId, connector:"Straight", anchors: ["Top","Bottom"], overlays: [ ["Custom", {create:function(component) {return make_relchooser(node_id,"multi",relname);},location:0.2,id:"customOverlay"}]]});
                    }
                    else{
                        jsPlumb.connect({source:info.sourceId, target:info.targetId, overlays: [ ["Arrow" , { width:12, length:12, location:0.95 }],["Custom", {create:function(component) {return make_relchooser(node_id,"rst",relname);},location:0.1,id:"customOverlay"}]]});
                    }
                    new_rel = document.getElementById("sel"+ node_id.replace("n","")).value;
                    act('up:' + node_id.replace("n","") + ',' + new_parent_id.replace("n",""));
                    update_rel(node_id,new_rel,nodes);
                    recalculate_depth(parse_data());
                }
            }

            $(".minibtn").prop("disabled",false);

        });

    });
        nodes = parse_data();
        show_warnings(nodes);

            </script>


            </div>
            </div>
            <div id="anim_catch" class="anim_catch">&nbsp;</div>
    </body>
    </html>

    